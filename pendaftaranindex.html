<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pendaftaran ‚Äî Satkoryon Banser Waled Cup 2025</title>

<!-- Bootstrap 5 -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

<style>
  :root{
    --green-1:#064b19;
    --green-2:#0f7a2f;
    --accent:#e6f7ea;
    --card-bg:rgba(255,255,255,0.95);
  }
  body{
    font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background: linear-gradient(180deg, #e9f8ee 0%, #ffffff 40%);
    color:#14221a;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .hero{
    background: linear-gradient(90deg, rgba(6,75,25,0.95), rgba(15,122,47,0.95));
    color: #fff;
    padding: 48px 0;
    border-bottom-left-radius: 24px;
    border-bottom-right-radius: 24px;
    box-shadow: 0 8px 28px rgba(6,75,25,0.25);
  }
  .hero h1{ font-weight:700; letter-spacing:0.2px; margin-bottom:6px; }
  .hero p.lead{ opacity:0.92; margin-bottom:0; }

  .card.soft {
    background: var(--card-bg);
    border: none;
    border-radius: 14px;
    box-shadow: 0 6px 18px rgba(20,34,26,0.08);
  }

  label { font-weight:600; color: #0f422a; }
  .btn-primary {
    background: linear-gradient(180deg,var(--green-1),var(--green-2));
    border: none;
    box-shadow: 0 6px 18px rgba(15,122,47,0.18);
  }
  .small-muted { color:#50685a; font-size:0.9rem; }

  footer { margin-top:40px; text-align:center; color:#294333; font-size:0.9rem; padding-bottom:28px; }

  .table-responsive { margin-top:14px; }

  .countdown-box{
    background: rgba(255,255,255,0.06);
    padding:10px 14px;
    border-radius:10px;
    color: #fff;
    display:inline-block;
    font-weight:700;
  }

  @media (max-width:767px){
    .hero h1{ font-size:1.25rem; }
    .hero p.lead{ font-size:0.9rem; }
  }
</style>
</head>
<body>

<!-- HERO -->
<section class="hero">
  <div class="container">
    <div class="d-flex align-items-center gap-3 flex-wrap">
        <h1>Satkoryon Banser Waled Cup 2025</h1>
        <p class="lead mb-1">Ajang olahraga & silaturahmi antar Banom NU ‚Äî Lapangan Bola PNA, Waled</p>
        <div class="mt-2">
          <span class="countdown-box me-2" id="countdown"></span>
          <span class="small-muted">23 ‚Äî 24 Agustus 2025 ‚Ä¢ Mulai 14.00 WIB</span>
        </div>
      </div>
    </div>
</section>

<!-- CONTENT -->
<main class="container my-5">

  <div class="row g-4">
    <!-- left: invitation + info -->
    <div class="col-lg-6">
      <div class="card soft p-4">
        <h4 class="text-success">üìú Undangan Resmi</h4>
        <hr>
        <div class="mt-2">
          <p><strong>Assalamu'alaikum Warahmatullahi Wabarakatuh</strong></p>
          <p>
            Segala puji bagi Allah SWT yang telah memberikan rahmat dan karunia-Nya kepada kita semua.
            Shalawat serta salam semoga selalu tercurah kepada junjungan kita Nabi Muhammad SAW,
            keluarga, sahabat, dan para pengikutnya hingga akhir zaman.
          </p>

          <p>
            Dengan ini, kami dari <strong>Panitia Satkoryon Banser Waled Cup 2025</strong>
            bermaksud mengundang seluruh <strong>Badan Otonom (Banom)</strong> untuk berpartisipasi
            dalam ajang silaturahmi dan olahraga yang akan diselenggarakan pada:
          </p>

          <ul class="small-muted mb-3">
            <li><strong>Tanggal:</strong> 23 ‚Äì 24 Agustus 2025</li>
            <li><strong>Waktu:</strong> 14.00 WIB ‚Äì selesai</li>
            <li><strong>Tempat:</strong> Lapangan Bola PNA, Waled</li>
          </ul>

          <p>
            Kegiatan ini bertujuan untuk mempererat ukhuwah Islamiyah antar Banom NU,
            meningkatkan sportivitas, serta mengembangkan potensi dan bakat anggota.
            Besar harapan kami agar seluruh Banom dapat berpartisipasi dan memeriahkan acara ini.
          </p>

          <p>Atas perhatian dan partisipasinya, kami ucapkan terima kasih.</p>

          <p><strong>Wassalamu'alaikum Warahmatullahi Wabarakatuh</strong></p>
          <p class="mb-0">Hormat kami,<br><strong>Panitia Satkoryon Banser Waled Cup 2025</strong></p>
        </div>
      </div>

      <div class="card soft p-3 mt-4">
        <h6 class="mb-2">Informasi Kontak Panitia</h6>
        <p class="mb-1 small-muted">Untuk pertanyaan & konfirmasi, hubungi:</p>
        <p class="mb-0"><strong>Panitia Pendaftaran</strong></p>
        <p class="mb-0"><a href="https://wa.me/6285920132823" target="_blank" class="text-decoration-none">+62 859-2013-2823 (WhatsApp)</a></p>
      </div>
    </div>

    <!-- right: registration form -->
    <div class="col-lg-6">
      <div class="card soft p-4">
        <h4 class="text-success">üìù Form Pendaftaran Resmi</h4>
        <p class="small-muted">Isi data dengan lengkap. Setelah submit, data akan tersimpan di sistem lokal dan WhatsApp panitia akan terbuka di tab baru.</p>

        <form id="pendaftaranForm" class="mt-3" novalidate>
          <div class="mb-3">
            <label for="banom">Pilih Banom</label>
            <select id="banom" class="form-select" required>
              <option value="">-- Pilih Banom --</option>
              <option>MWCNU WALED</option>
              <option>ANSOR</option>
              <option>BANSER</option>
              <option>IPNU</option>
              <option>PAGAR NUSA</option>
              <option>Lainnya</option>
            </select>
            <div class="invalid-feedback">Silakan pilih Banom.</div>
          </div>

          <div class="mb-3">
            <label for="namaTim">Nama Tim / Regu</label>
            <input id="namaTim" class="form-control" type="text" placeholder="Contoh: Regu Merah / Tim Nur" required>
            <div class="invalid-feedback">Masukkan nama tim atau regu.</div>
          </div>

          <div class="mb-3">
            <label for="namaPemain">Nama Pemain (pisahkan koma)</label>
            <textarea id="namaPemain" class="form-control" rows="4" placeholder="Contoh: Ahmad, Budi, Siti, ... " required></textarea>
            <div class="invalid-feedback">Tulis minimal 1 nama pemain.</div>
          </div>

          <div class="mb-3">
            <label for="kontak">Nomor Kontak (WA Ketua Tim)</label>
            <input id="kontak" class="form-control" type="tel" placeholder="08xxxxxxxxxx" required pattern="^\d{9,15}$">
            <div class="invalid-feedback">Masukkan nomor WhatsApp yang valid (hanya angka).</div>
          </div>

          <div class="d-grid gap-2">
            <button id="btnSubmit" class="btn btn-primary btn-lg" type="submit">üì§ Kirim Pendaftaran & Buka WhatsApp</button>
          </div>
        </form>

        <div id="alertBox" class="alert alert-success mt-3 d-none" role="alert"></div>
      </div>

      <div class="card soft p-3 mt-4">
        <div class="d-flex justify-content-between align-items-center mb-2">
          <h6 class="mb-0">Daftar Peserta Tersimpan</h6>
          <button id="clearBtn" class="btn btn-sm btn-outline-secondary">Bersihkan</button>
        </div>

        <div class="table-responsive">
          <table class="table table-sm align-middle mb-0">
            <thead class="table-light small-muted">
              <tr>
                <th>#</th>
                <th>Banom</th>
                <th>Tim</th>
                <th>Pemain</th>
                <th>Kontak</th>
              </tr>
            </thead>
            <tbody id="participantsTbody"></tbody>
          </table>
          <p id="noParticipants" class="small-muted mt-2">Belum ada pendaftar.</p>
        </div>
      </div>

    </div>
  </div>

  <footer>
    &copy; 2025 Panitia Satkoryon Banser Waled Cup ¬∑ Dibuat untuk keperluan pendaftaran acara
  </footer>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
const PANITIA_WA = "6285920132823";
const EVENT_START = new Date("2025-08-15T08:00:00+07:00");

function updateCountdown(){
  const now = new Date();
  let diff = EVENT_START - now;
  if (diff <= 0){
    document.getElementById('countdown').textContent = "Acara dimulai";
    return;
  }
  const days = Math.floor(diff / (1000*60*60*24));
  const hrs = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
  const mins = Math.floor((diff % (1000*60*60)) / (1000*60));
  document.getElementById('countdown').textContent = `${days} hari ${hrs}j ${mins}m`;
}
updateCountdown();
setInterval(updateCountdown, 1000);

const STORAGE_KEY = "wb_waledcup_participants";

function loadParticipants(){
  const raw = localStorage.getItem(STORAGE_KEY);
  return raw ? JSON.parse(raw) : [];
}
function saveParticipants(arr){
  localStorage.setItem(STORAGE_KEY, JSON.stringify(arr));
}

function escapeHtml(s){
  if(!s) return "";
  return String(s).replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m];});
}

function renderParticipants(){
  const list = loadParticipants();
  const tbody = document.getElementById('participantsTbody');
  tbody.innerHTML = "";
  const noEl = document.getElementById('noParticipants');
  if (list.length === 0){
    noEl.style.display = "block";
    return;
  }
  noEl.style.display = "none";
  list.forEach((p, idx) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${idx+1}</td>
      <td>${escapeHtml(p.banom)}</td>
      <td>${escapeHtml(p.tim)}</td>
      <td style="max-width:220px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${escapeHtml(p.pemain)}</td>
      <td>${escapeHtml(p.kontak)}</td>
    `;
    tbody.appendChild(tr);
  });
}

function showAlert(msg, timeout=3500){
  const box = document.getElementById('alertBox');
  box.textContent = msg;
  box.classList.remove('d-none','alert-danger');
  box.classList.add('alert-success');
  setTimeout(()=>{ box.classList.add('d-none'); }, timeout);
}

document.getElementById('pendaftaranForm').addEventListener('submit', function(e){
  e.preventDefault();

  const banom = document.getElementById('banom');
  const namaTim = document.getElementById('namaTim');
  const namaPemain = document.getElementById('namaPemain');
  const kontak = document.getElementById('kontak');

  if (!banom.checkValidity()) { banom.classList.add('is-invalid'); return; } else banom.classList.remove('is-invalid');
  if (!namaTim.checkValidity()) { namaTim.classList.add('is-invalid'); return; } else namaTim.classList.remove('is-invalid');
  if (!namaPemain.checkValidity()) { namaPemain.classList.add('is-invalid'); return; } else namaPemain.classList.remove('is-invalid');
  if (!kontak.checkValidity()) { kontak.classList.add('is-invalid'); return; } else kontak.classList.remove('is-invalid');

  const p = {
    banom: banom.value.trim(),
    tim: namaTim.value.trim(),
    pemain: namaPemain.value.trim(),
    kontak: kontak.value.trim()
  };

  const list = loadParticipants();
  list.push(p);
  saveParticipants(list);
  renderParticipants();

  const textLines = [
    "Pendaftaran Satkoryon Banser Waled Cup 2025",
    `Banom: ${p.banom}`,
    `Tim/Regu: ${p.tim}`,
    `Pemain: ${p.pemain}`,
    `Kontak Ketua Tim: ${p.kontak}`
  ];
  const pesan = textLines.join("\n");
  const url = `https://wa.me/${PANITIA_WA}?text=${encodeURIComponent(pesan)}`;

  window.open(url, "_blank");

  document.getElementById('pendaftaranForm').reset();
  showAlert("Terima kasih ‚Äî data diterima dan WA panitia terbuka di tab baru.");
});

document.getElementById('clearBtn').addEventListener('click', function(){
  if (!confirm("Hapus semua data peserta tersimpan di browser ini?")) return;
  localStorage.removeItem(STORAGE_KEY);
  renderParticipants();
});

renderParticipants();
</script>
</body>
</html>
